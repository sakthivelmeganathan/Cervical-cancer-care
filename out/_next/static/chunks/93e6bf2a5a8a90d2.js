(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,r,a)=>{r.exports=e.r(76562)},17070,e=>{"use strict";var r=e.i(43476),a=e.i(83773);let s=(0,e.i(75254).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);function l({className:e=""}){let{language:l,setLanguage:t}=(0,a.useLanguage)();return(0,r.jsxs)("button",{onClick:()=>t("en"===l?"ta":"en"),className:`flex items-center gap-2 px-3 py-1.5 rounded-full border transition-all ${"ta"===l?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"} ${e}`,title:"Switch Language",children:[(0,r.jsx)(s,{size:16}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"en"===l?"English":"தமிழ்"})]})}e.s(["default",()=>l],17070)},68294,e=>{"use strict";var r=e.i(11795);async function a(e){let a=(0,r.createClient)();try{let{data:r,error:s}=await a.auth.signUp({email:e.email,password:e.password,options:{data:{full_name:e.fullName,role:e.role,phone:e.phone||null}}});if(s)throw s;return{user:r.user}}catch(e){throw Error(e instanceof Error?e.message:"Failed to sign up")}}async function s(e){let a=(0,r.createClient)();try{let{data:r,error:s}=await a.auth.signInWithPassword({email:e.email,password:e.password});if(s)throw s;return{user:r.user,session:r.session}}catch(e){throw Error(e instanceof Error?e.message:"Failed to sign in")}}async function l(){let e=(0,r.createClient)();try{let{error:r}=await e.auth.signOut();if(r)throw r}catch(e){throw Error(e instanceof Error?e.message:"Failed to sign out")}}async function t(){let e=(0,r.createClient)();try{let{data:{user:r}}=await e.auth.getUser();if(!r)return null;let{data:a,error:s}=await e.from("users").select("role").eq("id",r.id).single();if(s)throw s;return a?.role||null}catch(e){return null}}async function o(){let e=(0,r.createClient)();try{let{data:{user:r}}=await e.auth.getUser();if(!r)return null;let{data:a,error:s}=await e.from("users").select("*").eq("id",r.id).single();if(s)throw s;if(!a||"admin"!==a.role)return null;return a}catch(e){return null}}e.s(["getAdminProfile",()=>o,"getUserRole",()=>t,"signIn",()=>s,"signOut",()=>l,"signUp",()=>a])},70301,e=>{e.v({form:"RegisterForm-module__S7ujnq__form",link:"RegisterForm-module__S7ujnq__link",links:"RegisterForm-module__S7ujnq__links"})},49221,e=>{e.v({container:"page-module__nC61QG__container",formSection:"page-module__nC61QG__formSection",formWrapper:"page-module__nC61QG__formWrapper",header:"page-module__nC61QG__header",imageContent:"page-module__nC61QG__imageContent",imageOverlay:"page-module__nC61QG__imageOverlay",imageSection:"page-module__nC61QG__imageSection"})},86906,e=>{"use strict";var r=e.i(43476),a=e.i(71645),s=e.i(18566),l=e.i(68294),t=e.i(70301),o=e.i(83773);function i(){let e=(0,s.useRouter)(),{t:i}=(0,o.useLanguage)(),[n,u]=(0,a.useState)({fullName:"",email:"",phone:"",password:"",confirmPassword:"",role:"patient"}),[d,c]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),g=e=>{let r="password"===e.target.name||"confirmPassword"===e.target.name?e.target.value.trim():e.target.value;u({...n,[e.target.name]:r})},x=async r=>{r.preventDefault(),c(""),h(!1);let a={fullName:n.fullName.trim(),email:n.email.trim(),phone:n.phone.trim(),password:n.password.trim(),confirmPassword:n.confirmPassword.trim(),role:n.role};if(!a.fullName)return void c(i("auth.errors.fullNameRequired")||"Full name is required");if(!a.email)return void c(i("auth.errors.emailRequired")||"Email is required");if(a.password!==a.confirmPassword)return void c(i("auth.errors.passwordsNotMatch"));if(a.password.length<6)return void c(i("auth.errors.passwordTooShort")||"Password must be at least 6 characters");f(!0);try{let r=await (0,l.signUp)({email:a.email,password:a.password,fullName:a.fullName,role:a.role,phone:a.phone||void 0});h(!0),r.user&&!r.user.confirmed_at?c(i("auth.errors.emailConfirmationRequired")):setTimeout(()=>{e.push("/login")},2e3)}catch(e){console.error("Registration error:",e),c(e instanceof Error?e.message:i("auth.errors.accountCreationFailed"))}finally{f(!1)}};return(0,r.jsxs)("form",{onSubmit:x,className:t.default.form,children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{htmlFor:"role",className:"form-label",children:[i("auth.role")," ",(0,r.jsx)("span",{style:{color:"var(--color-error)"},children:"*"})]}),(0,r.jsxs)("select",{id:"role",name:"role",value:n.role,onChange:g,className:"form-select",required:!0,disabled:p,children:[(0,r.jsx)("option",{value:"patient",children:i("auth.patient")}),(0,r.jsx)("option",{value:"doctor",children:i("auth.doctor")})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{htmlFor:"fullName",className:"form-label",children:[i("auth.fullName")," ",(0,r.jsx)("span",{style:{color:"var(--color-error)"},children:"*"})]}),(0,r.jsx)("input",{id:"fullName",name:"fullName",type:"text",value:n.fullName,onChange:g,className:"form-input",placeholder:i("auth.fullName"),required:!0,disabled:p})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{htmlFor:"email",className:"form-label",children:[i("auth.email")," ",(0,r.jsx)("span",{style:{color:"var(--color-error)"},children:"*"})]}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",value:n.email,onChange:g,className:"form-input",placeholder:"your.email@example.com",required:!0,disabled:p})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"phone",className:"form-label",children:i("auth.phone")}),(0,r.jsx)("input",{id:"phone",name:"phone",type:"tel",value:n.phone,onChange:g,className:"form-input",placeholder:"+1 (555) 000-0000",disabled:p})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{htmlFor:"password",className:"form-label",children:[i("auth.password")," ",(0,r.jsx)("span",{style:{color:"var(--color-error)"},children:"*"})]}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",value:n.password,onChange:g,className:"form-input",placeholder:i("auth.password"),required:!0,disabled:p,minLength:6})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{htmlFor:"confirmPassword",className:"form-label",children:[i("auth.confirmPassword")," ",(0,r.jsx)("span",{style:{color:"var(--color-error)"},children:"*"})]}),(0,r.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:n.confirmPassword,onChange:g,className:"form-input",placeholder:i("auth.confirmPassword"),required:!0,disabled:p,minLength:6})]}),m&&(0,r.jsxs)("div",{className:"alert alert-success",role:"alert",children:["✅ ",i("auth.success.accountCreated")," ",d?"":i("auth.success.redirecting")]}),d&&(0,r.jsx)("div",{className:"alert alert-error",role:"alert",children:d}),(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:p,style:{width:"100%"},children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"spinner"}),i("auth.buttons.creating")]}):i("auth.buttons.create")}),(0,r.jsxs)("div",{className:t.default.links,children:[(0,r.jsx)("span",{children:i("auth.haveAccount")}),(0,r.jsx)("a",{href:"/login",className:t.default.link,children:i("auth.buttons.signIn")})]})]})}var n=e.i(49221),u=e.i(17070);function d(){let{t:e}=(0,o.useLanguage)();return(0,r.jsxs)("div",{className:n.default.container,children:[(0,r.jsx)("div",{style:{position:"absolute",top:"1rem",right:"1rem",zIndex:1e3},children:(0,r.jsx)(u.default,{})}),(0,r.jsxs)("div",{className:n.default.imageSection,children:[(0,r.jsx)("div",{className:n.default.imageOverlay}),(0,r.jsxs)("div",{className:n.default.imageContent,children:[(0,r.jsx)("h2",{children:e("landing.heroTitle")}),(0,r.jsxs)("p",{children:[e("landing.heroSubtitle").substring(0,100),"..."]})]})]}),(0,r.jsx)("div",{className:n.default.formSection,children:(0,r.jsxs)("div",{className:n.default.formWrapper,children:[(0,r.jsxs)("div",{className:n.default.header,children:[(0,r.jsx)("h1",{children:e("auth.createAccount")}),(0,r.jsx)("p",{children:e("auth.createAccountSubtitle")})]}),(0,r.jsx)(i,{})]})})]})}e.s(["default",()=>d],86906)}]);