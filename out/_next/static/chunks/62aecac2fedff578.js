(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},57441,e=>{e.v({container:"symptoms-module__9d5KTW__container",fadeIn:"symptoms-module__9d5KTW__fadeIn",formCard:"symptoms-module__9d5KTW__formCard",grid:"symptoms-module__9d5KTW__grid",historyCard:"symptoms-module__9d5KTW__historyCard",historyDate:"symptoms-module__9d5KTW__historyDate",historyHeader:"symptoms-module__9d5KTW__historyHeader",historyItem:"symptoms-module__9d5KTW__historyItem",historyList:"symptoms-module__9d5KTW__historyList",historyStats:"symptoms-module__9d5KTW__historyStats",rangeContainer:"symptoms-module__9d5KTW__rangeContainer",rangeInput:"symptoms-module__9d5KTW__rangeInput",rangeValue:"symptoms-module__9d5KTW__rangeValue",stat:"symptoms-module__9d5KTW__stat",subtitle:"symptoms-module__9d5KTW__subtitle",title:"symptoms-module__9d5KTW__title"})},37541,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(11795),l=e.i(83773),i=e.i(57441),r=e.i(21218);let n=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var o=e.i(87316),d=e.i(63209),m=e.i(95468),c=e.i(31278);function p(){let e=(0,a.createClient)(),[p,h]=(0,s.useState)(!0),[u,y]=(0,s.useState)(!1),[g,x]=(0,s.useState)([]),[f,_]=(0,s.useState)(!1),[j,v]=(0,s.useState)(null),[b,N]=(0,s.useState)(0),[k,C]=(0,s.useState)(0),[S,T]=(0,s.useState)(!1),[z,I]=(0,s.useState)(""),[W,K]=(0,s.useState)({nausea:!1,vomiting:!1,fever:!1,appetite_loss:!1,headache:!1,discharge:!1}),{t:w}=(0,l.useLanguage)(),L=e=>{K(t=>({...t,[e]:!t[e]}))},B=(0,s.useCallback)(async()=>{try{let{data:{user:t}}=await e.auth.getUser();if(!t)return;let{data:s}=await e.from("patients").select("id").eq("user_id",t.id).single();if(s){let{data:t}=await e.from("symptoms_log").select("*").eq("patient_id",s.id).order("log_date",{ascending:!1});x(t||[])}}catch(e){console.error("Error fetching logs:",e)}finally{h(!1)}},[e]);(0,s.useEffect)(()=>{B()},[B]);let D=async t=>{t.preventDefault(),y(!0),v(null),_(!1);try{let{data:{user:t}}=await e.auth.getUser();if(!t)throw Error("Not authenticated");let{data:s}=await e.from("patients").select("id").eq("user_id",t.id).single();if(!s)throw Error("Patient profile not found");let{error:a}=await e.from("symptoms_log").insert({patient_id:s.id,log_date:new Date().toISOString().split("T")[0],pain_level:b,fatigue_level:k,bleeding:S,notes:z,symptoms:W});if(a)throw a;_(!0),I(""),K({nausea:!1,vomiting:!1,fever:!1,appetite_loss:!1,headache:!1,discharge:!1}),B(),setTimeout(()=>_(!1),3e3)}catch(e){v(e instanceof Error?e.message:"Failed to save symptom log")}finally{y(!1)}};return(0,t.jsxs)("div",{className:i.default.container,children:[(0,t.jsx)("h1",{className:i.default.title,children:w("patient.symptoms.title")}),(0,t.jsx)("p",{className:i.default.subtitle,children:w("patient.symptoms.subtitle")}),(0,t.jsxs)("div",{className:i.default.grid,children:[(0,t.jsxs)("div",{className:i.default.formCard,children:[(0,t.jsxs)("h2",{style:{fontSize:"1.25rem",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,t.jsx)(r.Activity,{className:"text-blue-600",size:24}),w("patient.symptoms.logToday")]}),j&&(0,t.jsxs)("div",{className:"alert alert-error",children:[(0,t.jsx)(d.AlertCircle,{size:18}),(0,t.jsx)("span",{children:j})]}),f&&(0,t.jsxs)("div",{className:"alert alert-success",children:[(0,t.jsx)(m.CheckCircle2,{size:18}),(0,t.jsx)("span",{children:w("patient.symptoms.success")})]}),(0,t.jsxs)("form",{onSubmit:D,children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsxs)("label",{className:"form-label",children:[w("patient.symptoms.pain")," (0-10)"]}),(0,t.jsxs)("div",{className:i.default.rangeContainer,children:[(0,t.jsx)("input",{type:"range",min:"0",max:"10",value:b,onChange:e=>N(parseInt(e.target.value)),className:i.default.rangeInput,style:{background:"linear-gradient(to right, #22c55e 0%, #ef4444 100%)"}}),(0,t.jsx)("span",{className:i.default.rangeValue,children:b})]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsxs)("label",{className:"form-label",children:[w("patient.symptoms.fatigue")," (0-10)"]}),(0,t.jsxs)("div",{className:i.default.rangeContainer,children:[(0,t.jsx)("input",{type:"range",min:"0",max:"10",value:k,onChange:e=>C(parseInt(e.target.value)),className:i.default.rangeInput,style:{background:"linear-gradient(to right, #22c55e 0%, #eab308 100%)"}}),(0,t.jsx)("span",{className:i.default.rangeValue,children:k})]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",style:{marginBottom:"0.5rem",display:"block"},children:w("patient.symptoms.specific")}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:[(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"},children:[(0,t.jsx)("input",{type:"checkbox",checked:W.nausea,onChange:()=>L("nausea")}),w("patient.symptoms.nausea")]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"},children:[(0,t.jsx)("input",{type:"checkbox",checked:W.vomiting,onChange:()=>L("vomiting")}),w("patient.symptoms.vomiting")]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"},children:[(0,t.jsx)("input",{type:"checkbox",checked:W.fever,onChange:()=>L("fever")}),w("patient.symptoms.fever")]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"},children:[(0,t.jsx)("input",{type:"checkbox",checked:W.appetite_loss,onChange:()=>L("appetite_loss")}),w("patient.symptoms.appetiteLoss")]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"},children:[(0,t.jsx)("input",{type:"checkbox",checked:W.headache,onChange:()=>L("headache")}),w("patient.symptoms.headache")]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"},children:[(0,t.jsx)("input",{type:"checkbox",checked:W.discharge,onChange:()=>L("discharge")}),w("patient.symptoms.discharge")]})]})]}),(0,t.jsx)("div",{className:"form-group",children:(0,t.jsxs)("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"checkbox",checked:S,onChange:e=>T(e.target.checked),style:{width:"1.2rem",height:"1.2rem"}}),w("patient.symptoms.bleeding")]})}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:w("patient.symptoms.notes")}),(0,t.jsx)("textarea",{className:"form-textarea",rows:3,value:z,onChange:e=>I(e.target.value),placeholder:"..."})]}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"100%"},disabled:u,children:u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Loader2,{size:18,className:"animate-spin"}),w("patient.symptoms.saving")]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n,{size:18}),w("patient.symptoms.saveLog")]})})]})]}),(0,t.jsxs)("div",{className:i.default.historyCard,children:[(0,t.jsxs)("h2",{style:{fontSize:"1.25rem",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,t.jsx)(o.Calendar,{className:"text-blue-600",size:24}),w("patient.symptoms.history")]}),p?(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"2rem"},children:(0,t.jsx)(c.Loader2,{className:"animate-spin text-blue-600",size:32})}):0===g.length?(0,t.jsx)("p",{style:{textAlign:"center",color:"var(--color-text-secondary)",padding:"2rem"},children:w("patient.symptoms.noLogs")}):(0,t.jsx)("div",{className:i.default.historyList,children:g.map(e=>(0,t.jsxs)("div",{className:i.default.historyItem,children:[(0,t.jsxs)("div",{className:i.default.historyHeader,children:[(0,t.jsx)("div",{className:i.default.historyDate,children:new Date(e.log_date).toLocaleDateString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric"})}),e.bleeding&&(0,t.jsx)("span",{className:"badge badge-error",children:"Bleeding"})]}),(0,t.jsxs)("div",{className:i.default.historyStats,children:[(0,t.jsxs)("span",{className:i.default.stat,children:[(0,t.jsx)("span",{style:{fontWeight:600},children:"Pain:"}),(0,t.jsxs)("span",{style:{color:e.pain_level>5?"var(--color-error)":"inherit",fontWeight:e.pain_level>5?600:400},children:[e.pain_level,"/10"]})]}),(0,t.jsxs)("span",{className:i.default.stat,children:[(0,t.jsx)("span",{style:{fontWeight:600},children:"Fatigue:"}),(0,t.jsxs)("span",{children:[e.fatigue_level,"/10"]})]})]}),e.symptoms&&Object.values(e.symptoms).some(e=>e)&&(0,t.jsx)("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",marginTop:"0.5rem"},children:Object.entries(e.symptoms).filter(e=>e[1]).map(([e])=>(0,t.jsx)("span",{style:{fontSize:"0.75rem",background:"var(--color-surface-elevated)",padding:"2px 8px",borderRadius:"12px",border:"1px solid var(--color-border)",textTransform:"capitalize"},children:e.replace("_"," ")},e))}),e.notes&&(0,t.jsxs)("p",{style:{marginTop:"0.5rem",marginBottom:0,fontSize:"0.875rem",fontStyle:"italic"},children:['"',e.notes,'"']})]},e.id))})]})]})]})}e.s(["default",()=>p],37541)}]);