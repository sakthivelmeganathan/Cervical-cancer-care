(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45531,e=>{e.v({actions:"page-module__HcmM2a__actions",button:"page-module__HcmM2a__button",cancelButton:"page-module__HcmM2a__cancelButton",container:"page-module__HcmM2a__container",field:"page-module__HcmM2a__field",fields:"page-module__HcmM2a__fields",form:"page-module__HcmM2a__form",header:"page-module__HcmM2a__header",input:"page-module__HcmM2a__input",saveButton:"page-module__HcmM2a__saveButton",section:"page-module__HcmM2a__section"})},18587,e=>{"use strict";var a=e.i(43476),l=e.i(71645),t=e.i(18566),n=e.i(11795),s=e.i(22016),i=e.i(45531);function o(){let e=(0,t.useRouter)(),o=(0,n.createClient)(),[u,d]=(0,l.useState)(!0),[r,c]=(0,l.useState)(!1),[m,f]=(0,l.useState)({full_name:"",phone:""});(0,l.useEffect)(()=>{_()},[]);let _=async()=>{let{data:{user:a}}=await o.auth.getUser();if(!a)return void e.push("/login");let{data:l}=await o.from("users").select("full_name, phone").eq("id",a.id).single();l&&f({full_name:l.full_name||"",phone:l.phone||""}),d(!1)},h=e=>{f(a=>({...a,[e.target.name]:e.target.value}))},p=async a=>{a.preventDefault(),c(!0);let{data:{user:l}}=await o.auth.getUser();if(l)try{let{error:a}=await o.from("users").update({full_name:m.full_name,phone:m.phone}).eq("id",l.id);if(a)throw a;e.push("/doctor/profile"),e.refresh()}catch(e){console.error("Error updating profile:",e),alert("Failed to update profile. Please try again.")}finally{c(!1)}};return u?(0,a.jsx)("div",{className:i.default.container,children:"Loading..."}):(0,a.jsxs)("div",{className:i.default.container,children:[(0,a.jsxs)("header",{className:i.default.header,children:[(0,a.jsx)("h1",{children:"Edit Profile"}),(0,a.jsx)("p",{children:"Update your professional information"})]}),(0,a.jsxs)("form",{onSubmit:p,className:i.default.form,children:[(0,a.jsxs)("div",{className:i.default.section,children:[(0,a.jsx)("h2",{children:"Personal Details"}),(0,a.jsxs)("div",{className:i.default.fields,children:[(0,a.jsxs)("div",{className:i.default.field,children:[(0,a.jsx)("label",{htmlFor:"full_name",children:"Full Name"}),(0,a.jsx)("input",{type:"text",id:"full_name",name:"full_name",value:m.full_name,onChange:h,className:i.default.input,required:!0})]}),(0,a.jsxs)("div",{className:i.default.field,children:[(0,a.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,a.jsx)("input",{type:"tel",id:"phone",name:"phone",value:m.phone,onChange:h,className:i.default.input})]})]})]}),(0,a.jsxs)("div",{className:i.default.actions,children:[(0,a.jsx)(s.default,{href:"/doctor/profile",className:`${i.default.button} ${i.default.cancelButton}`,children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:`${i.default.button} ${i.default.saveButton}`,disabled:r,children:r?"Saving...":"Save Changes"})]})]})]})}e.s(["default",()=>o])}]);