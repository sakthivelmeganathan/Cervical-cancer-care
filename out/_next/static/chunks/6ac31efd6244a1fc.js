(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40160,e=>{"use strict";let t=(0,e.i(75254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>t],40160)},78583,e=>{"use strict";let t=(0,e.i(75254).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],78583)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},50031,e=>{"use strict";var t=e.i(43476),r=e.i(71645),i=e.i(11795),a=e.i(78583),s=e.i(40160),l=e.i(31278),n=e.i(63209),d=e.i(83773);function o(){let[e,o]=(0,r.useState)([]),[c,p]=(0,r.useState)(!0),[h,u]=(0,r.useState)(null),y=(0,i.createClient)(),{t:x}=(0,d.useLanguage)();return((0,r.useEffect)(()=>{!async function(){try{let{data:{user:e}}=await y.auth.getUser();if(!e)return;let{data:t}=await y.from("patients").select("id").eq("user_id",e.id).single();if(!t)return void u("Patient profile not found.");let{data:r,error:i}=await y.from("medical_reports").select("*").eq("patient_id",t.id).order("created_at",{ascending:!1});if(i)throw i;o(r||[])}catch(e){console.error("Error fetching reports:",e instanceof Error?e.message:JSON.stringify(e,null,2)),u("Failed to load reports.")}finally{p(!1)}}()},[y]),c)?(0,t.jsx)("div",{className:"flex justify-center items-center p-12",children:(0,t.jsx)(l.Loader2,{className:"animate-spin text-blue-600",size:32})}):h?(0,t.jsxs)("div",{className:"alert alert-error",children:[(0,t.jsx)(n.AlertCircle,{size:18}),(0,t.jsx)("span",{children:h})]}):(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h1",{style:{fontSize:"1.5rem",marginBottom:"1.5rem",fontWeight:600},children:x("patient.reports.title")}),0===e.length?(0,t.jsxs)("div",{style:{textAlign:"center",padding:"3rem 1rem",color:"var(--color-text-secondary)"},children:[(0,t.jsx)(a.FileText,{size:48,style:{margin:"0 auto 1rem",opacity:.5}}),(0,t.jsx)("p",{children:x("patient.reports.noReports")})]}):(0,t.jsx)("div",{style:{display:"grid",gap:"1rem"},children:e.map(e=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",background:"var(--color-background)",borderRadius:"var(--radius-md)",border:"1px solid var(--color-border)"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,t.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:"#e0e7ff",color:"#4338ca",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)(a.FileText,{size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontWeight:600,color:"var(--color-text-primary)"},children:e.report_type}),(0,t.jsxs)("div",{style:{fontSize:"0.875rem",color:"var(--color-text-secondary)"},children:[new Date(e.created_at).toLocaleDateString(),e.description&&` â€¢ ${e.description}`]})]})]}),(0,t.jsxs)("a",{href:`https://moglmxolvmbcmdktrerl.supabase.co/storage/v1/object/public/medical-documents/${e.file_path}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,t.jsx)(s.Download,{size:16}),x("patient.reports.view")]})]},e.id))})]})}e.s(["default",()=>o])}]);